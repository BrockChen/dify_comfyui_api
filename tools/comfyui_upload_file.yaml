identity:
  name: "comfyui_upload_file"
  author: "brockchen"
  label:
    en_US: "ComfyUI Upload File"
    zh_Hans: "ComfyUI 上传文件"
description:
  human:
    en_US: "Upload a file from Dify storage to ComfyUI. Supports images and videos. Skips upload if file already exists."
    zh_Hans: "从 Dify 存储上传文件到 ComfyUI。支持图片和视频。如果文件已存在则跳过上传。"
  llm: "Upload a file from Dify storage to ComfyUI server. Supports images and videos. Automatically checks if file exists before uploading and skips if already present."
parameters:
  - name: input
    type: file
    required: true
    label:
      en_US: Input
      zh_Hans: 输入
    human_description:
      en_US: "The inputs to upload to ComfyUI."
      zh_Hans: "要上传到 ComfyUI 的输入。"
    form: "form"
    mime_type: "image/*"
    llm_description: "The input to upload to ComfyUI."

output_schema:
  type: object
  properties:
    status:
      type: string
      description: "Upload status: success or error"
    filename:
      type: string
      description: "The filename in ComfyUI"
    subfolder:
      type: string
      description: "The subfolder path in ComfyUI"
    type:
      type: string
      description: "File type in ComfyUI (usually 'input')"
    url:
      type: string
      description: "The URL to access the file in ComfyUI"
    skipped:
      type: boolean
      description: "Whether the upload was skipped because file already exists"
    message:
      type: string
      description: "Status message"
extra:
  python:
    source: tools/comfyui_upload_file.py

